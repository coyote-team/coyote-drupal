<?php

use Drupal\coyote_img_desc\Hook\NodeViewAlterPostRenderHook;
use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
use Drupal\Core\Entity\EntityInterface;

function coyote_img_desc_node_view_alter(array &$build, EntityInterface $entity, EntityViewDisplayInterface $display): void
{
  $build['_coyote_node_url'] = $entity->toUrl('canonical', ['absolute' => true])->toString();
  $build['#post_render'][] = [NodeViewAlterPostRenderHook::class, 'hook'];
}